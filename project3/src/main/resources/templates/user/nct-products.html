<!DOCTYPE html>
                                   <html lang="vi" xmlns:th="http://www.thymeleaf.org">

                                   <head>
                                       <meta charset="UTF-8">
                                       <meta name="viewport" content="width=device-width, initial-scale=1.0">
                                       <title th:text="${nctPageTitle}">Sản phẩm - UMACT Store</title>
                                       <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
                                       <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
                                       <style>
                                           * { margin: 0; padding: 0; box-sizing: border-box; }
                                           body {
                                               font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                                               background-color: #f5f5f5;
                                           }

                                           /* Header */
                                           header { background-color: #fff; border-bottom: 1px solid #e0e0e0; padding: 12px 20px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 50; height: 60px; }
                                           .logo { font-size: 20px; font-weight: bold; display: flex; align-items: center; gap: 2px; }
                                           .logo .red { color: #ff3333; }
                                           .logo .black { color: #000; }

                                           /* Sidebar */
                                           .sidebar { position: fixed; left: 0; top: 60px; width: 250px; height: calc(100vh - 60px); background-color: #fff; border-right: 1px solid #e0e0e0; padding: 20px 0; z-index: 40; overflow-y: auto; }
                                           .sidebar-section { margin-top: 1rem; margin-bottom: 1rem; }
                                           .sidebar-title { font-size: 14px; color: #000; padding: 12px 20px; text-transform: uppercase; border-bottom: 2px solid #ff3333; margin-bottom: 10px; }
                                           .sidebar-item {
                                               padding: 12px 20px;
                                               color: #333;
                                               text-decoration: none;
                                               display: flex;
                                               align-items: center;
                                               gap: 12px;
                                               font-size: 14px;
                                               transition: all 0.3s ease;
                                               border-left: 3px solid transparent;
                                           }
                                           .sidebar-item:hover {
                                               background-color: #f0f0f0;
                                               color: #ff3333;
                                               border-left-color: #ff3333;
                                           }
                                           .sidebar-item.active {
                                               background-color: #ffe0e0;
                                               color: #ff3333;
                                               border-left-color: #ff3333;
                                               font-weight: 600;
                                           }
                                           .sidebar-item i {
                                               font-size: 16px;
                                               width: 16px;
                                               text-align: center;
                                           }

                                           /* Main Content */
                                           .main-content { margin-left: 250px; padding: 20px; }
                                           .page-header { background-color: #fff; padding: 20px; border-radius: 8px; margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center; }
                                           .page-header h1 { font-size: 24px; font-weight: bold; color: #000; }
                                           .filter-options { display: flex; gap: 10px; align-items: center; }
                                           .filter-btn { padding: 8px 16px; border: 1px solid #ddd; background-color: #fafafa; border-radius: 6px; cursor: pointer; font-size: 13px; transition: all 0.3s ease; }
                                           .filter-btn:hover, .filter-btn.active { border-color: #ff3333; color: #ff3333; background-color: #fff; }

                                           /* Product Grid - Synced with nct-home.html */
                                           .product-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 15px; }
                                           .product-card { background: #fff; border: 1px solid #e0e0e0; border-radius: 8px; overflow: hidden; transition: all 0.3s ease; cursor: pointer; }
                                           .product-card:hover { box-shadow: 0 4px 12px rgba(0,0,0,0.15); transform: translateY(-4px); border-color: #ff3333; }
                                           .product-image { width: 100%; height: 240px; background-color: #f0f0f0; overflow: hidden; position: relative; display: flex; align-items: center; justify-content: center; }
                                           .product-image img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease; }
                                           .product-card:hover .product-image img { transform: scale(1.1); }
                                           .product-info { padding: 15px; }
                                           .product-name { font-size: 13px; font-weight: 600; color: #000; margin-bottom: 10px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; min-height: 30px; }
                                           .product-price { color: #ff3333; font-weight: bold; font-size: 16px; margin-bottom: 8px; }
                                           .product-original-price { color: #999; text-decoration: line-through; font-size: 12px; margin-bottom: 8px; }
                                           .product-stock { font-size: 12px; color: #666; }
                                           .product-stock.available { color: #27ae60; font-weight: 600; }
                                           .product-stock.out { color: #e74c3c; font-weight: 600; }

                                           /* Empty State */
                                           .empty-state { text-align: center; padding: 60px 20px; background-color: #fff; border-radius: 8px; }
                                           .empty-state i { font-size: 48px; color: #ddd; margin-bottom: 20px; }
                                           .empty-state p { color: #999; font-size: 16px; margin-bottom: 20px; }
                                           .empty-state a { display: inline-block; padding: 10px 24px; background-color: #ff3333; color: white; text-decoration: none; border-radius: 6px; transition: all 0.3s ease; }
                                           .empty-state a:hover { background-color: #e60000; }

                                           /* Footer */
                                           footer { background-color: #1a1a1a; color: #fff; padding: 40px 20px; margin-top: 60px; margin-left: 250px; }
                                           footer h3 { font-size: 14px; font-weight: bold; margin-bottom: 15px; }
                                           footer a { color: #ccc; text-decoration: none; font-size: 13px; transition: color 0.3s; }
                                           footer a:hover { color: #fff; }
                                           .footer-section { margin-bottom: 30px; }
                                           .footer-info { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; font-size: 13px; color: #ccc; }
                                           .footer-info i { margin-top: 2px; }
                                       </style>
                                   </head>

                                   <body>
                                   <div th:replace="~{fragments/nct-header :: header}"></div>

                                   <aside class="sidebar">
                                       <!-- Main Navigation -->
                                       <a th:href="@{/}" class="sidebar-item">
                                           <i class="fas fa-home"></i>
                                           <span>Trang chủ</span>
                                       </a>
                                       <a th:href="@{/products}" class="sidebar-item active">
                                           <i class="fas fa-cube"></i>
                                           <span>Sản phẩm</span>
                                       </a>
                                       <a th:href="@{/bookmark}" class="sidebar-item">
                                           <i class="fas fa-bookmark"></i>
                                           <span>Đã lưu</span>
                                       </a>
                                       <a href="#" class="sidebar-item">
                                           <i class="fas fa-eye"></i>
                                           <span>Đã xem</span>
                                       </a>
                                       <hr class="my-3 border-gray-200">

                                       <!-- Category Filter Section -->
                                       <div class="sidebar-section">
                                           <div class="sidebar-title">Danh mục</div>
                                           <a th:href="@{/products}" th:class="${nctSelectedCategoryId == null ? 'sidebar-item active' : 'sidebar-item'}">
                                               <span>Tất cả sản phẩm</span>
                                           </a>
                                           <a th:each="category : ${nctCategories}"
                                              th:href="@{/products(category=${category.nctCategoryId})}"
                                              th:class="${nctSelectedCategoryId != null and nctSelectedCategoryId == category.nctCategoryId ? 'sidebar-item active' : 'sidebar-item'}">
                                               <span th:text="${category.nctCategoryName}">Category Name</span>
                                           </a>
                                       </div>
                                       <hr class="my-3 border-gray-200">

                                       <!-- Social Links -->
                                       <a href="#" class="sidebar-item">
                                           <i class="fab fa-facebook"></i>
                                           <span>Facebook</span>
                                       </a>
                                       <a href="#" class="sidebar-item">
                                           <i class="fab fa-facebook-messenger"></i>
                                           <span>Messenger</span>
                                       </a>
                                   </aside>

                                   <main class="main-content">
                                       <div class="page-header">
                                           <div>
                                               <h1 th:text="${nctHeaderTitle}">Tất cả sản phẩm</h1>
                                               <p style="color: #999; margin-top: 5px;">
                                                   Tìm thấy <span th:text="${nctProducts.size()}">0</span> sản phẩm
                                               </p>
                                           </div>
                                           <div class="filter-options">
                                               <button class="filter-btn active">Mới nhất</button>
                                               <button class="filter-btn">Giá thấp</button>
                                               <button class="filter-btn">Giá cao</button>
                                           </div>
                                       </div>

                                       <div th:if="${!nctProducts.isEmpty()}" class="product-grid">
                                           <div th:each="product : ${nctProducts}" class="product-card">
                                               <a th:href="@{/products/{id}(id=${product.nctProductId})}" style="text-decoration: none; color: inherit;">
                                                   <div class="product-image">
                                                       <img th:src="${product.nctImageUrl}"
                                                            th:alt="${product.nctProductName}"
                                                            onerror="this.src='https://via.placeholder.com/400x400/f0f0f0/999?text=No+Image'">
                                                   </div>
                                                   <div class="product-info">
                                                       <div class="product-name" th:text="${product.nctProductName}"></div>
                                                       <div class="product-price" th:text="|₫ ${#numbers.formatDecimal(product.nctPrice, 0, 'COMMA', 0, 'POINT')}|"></div>
                                                       <div th:if="${product.nctOriginalPrice != null and product.nctOriginalPrice > product.nctPrice}"
                                                            class="product-original-price"
                                                            th:text="|₫ ${#numbers.formatDecimal(product.nctOriginalPrice, 0, 'COMMA', 0, 'POINT')}|"></div>
                                                       <div th:class="${product.nctStockQuantity > 0 ? 'product-stock available' : 'product-stock out'}"
                                                            th:text="${product.nctStockQuantity > 0 ? 'Còn ' + product.nctStockQuantity + ' sản phẩm' : 'Hết hàng'}"></div>
                                                   </div>
                                               </a>
                                           </div>
                                       </div>

                                       <div th:if="${nctProducts.isEmpty()}" class="empty-state">
                                           <i class="fas fa-box-open"></i>
                                           <p>Không tìm thấy sản phẩm nào</p>
                                           <a th:href="@{/products}">Xem tất cả sản phẩm</a>
                                       </div>
                                   </main>

                                   <footer>
                                       <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                                           <div class="footer-section">
                                               <h3>Thông tin UMACT.vn</h3>
                                               <div class="footer-info">
                                                   <i class="fas fa-map-marker-alt"></i>
                                                   <span>Số 157, Phố Xốm, Phú Lãm, Hà Đông, Hà Nội</span>
                                               </div>
                                               <div class="footer-info">
                                                   <i class="fas fa-envelope"></i>
                                                   <span>UMACT@gmail.com</span>
                                               </div>
                                               <div class="footer-info">
                                                   <i class="fas fa-phone"></i>
                                                   <span>Hotline: 0334402527</span>
                                               </div>
                                           </div>
                                           <div class="footer-section">
                                               <h3>Chính sách chung</h3>
                                               <div style="display: flex; flex-direction: column; gap: 8px;">
                                                   <a href="#">Chính sách bảo mật</a>
                                                   <a href="#">Chính sách bảo hành & đổi trả</a>
                                                   <a href="#">Các câu hỏi thường gặp</a>
                                                   <a href="#">Liên hệ với chúng tôi</a>
                                               </div>
                                           </div>
                                       </div>
                                       <div style="border-top: 1px solid #333; padding-top: 20px; text-align: center; font-size: 13px; color: #999;">
                                           <p>Copyright © 2025 <span style="color: #fff; font-weight: bold;">UMACT.vn</span> • Developed by <span style="color: #ccc;">CongTung202</span></p>
                                       </div>
                                   </footer>

                                   </body>
                                   </html>